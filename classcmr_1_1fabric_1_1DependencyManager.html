<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Terra: cmr::fabric::DependencyManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Terra
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecmr.html">cmr</a></li><li class="navelem"><a class="el" href="namespacecmr_1_1fabric.html">fabric</a></li><li class="navelem"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html">DependencyManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcmr_1_1fabric_1_1DependencyManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cmr::fabric::DependencyManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The dependency manager provides a service interface for nodes to acquire their dependencies.  
 <a href="classcmr_1_1fabric_1_1DependencyManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dependency__manager_8hpp_source.html">dependency_manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cmr::fabric::DependencyManager:</div>
<div class="dyncontent">
<div class="center"><img src="classcmr_1_1fabric_1_1DependencyManager__inherit__graph.png" border="0" usemap="#acmr_1_1fabric_1_1DependencyManager_inherit__map" alt="Inheritance graph"/></div>
<map name="acmr_1_1fabric_1_1DependencyManager_inherit__map" id="acmr_1_1fabric_1_1DependencyManager_inherit__map">
<area shape="rect" title="The dependency manager provides a service interface for nodes to acquire their dependencies." alt="" coords="5,80,215,107"/>
<area shape="rect" title=" " alt="" coords="63,5,157,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for cmr::fabric::DependencyManager:</div>
<div class="dyncontent">
<div class="center"><img src="classcmr_1_1fabric_1_1DependencyManager__coll__graph.png" border="0" usemap="#acmr_1_1fabric_1_1DependencyManager_coll__map" alt="Collaboration graph"/></div>
<map name="acmr_1_1fabric_1_1DependencyManager_coll__map" id="acmr_1_1fabric_1_1DependencyManager_coll__map">
<area shape="rect" title="The dependency manager provides a service interface for nodes to acquire their dependencies." alt="" coords="5,80,215,107"/>
<area shape="rect" title=" " alt="" coords="63,5,157,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a278766b3f611fbf2dd3c84e730b17740"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a278766b3f611fbf2dd3c84e730b17740">DependencyManager</a> (const std::string &amp;node_name=&quot;dependency_manager&quot;, const std::string &amp;node_namespace=&quot;fabric&quot;)</td></tr>
<tr class="separator:a278766b3f611fbf2dd3c84e730b17740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0875946470e4456fa06af767fff013a4"><td class="memItemLeft" align="right" valign="top">rclcpp::Service&lt; cmr_msgs::srv::AcquireDependency &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a0875946470e4456fa06af767fff013a4">create_acquire_dependency_service</a> ()</td></tr>
<tr class="separator:a0875946470e4456fa06af767fff013a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac924ea0658593097f9b92bb82403dc00"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Response &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#ac924ea0658593097f9b92bb82403dc00">release_dependency_callback</a> (const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Request &gt; &amp;request, const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Response &gt; &amp;response)</td></tr>
<tr class="separator:ac924ea0658593097f9b92bb82403dc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04661223844ede09ba718c322fa2f55"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Response &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#ac04661223844ede09ba718c322fa2f55">notify_deactivate_callback</a> (const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Request &gt; &amp;request, const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Response &gt; &amp;response)</td></tr>
<tr class="separator:ac04661223844ede09ba718c322fa2f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fd6a2f0ff970394b80bbd88f55797d"><td class="memItemLeft" align="right" valign="top">rclcpp::Service&lt; cmr_msgs::srv::ReleaseDependency &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a87fd6a2f0ff970394b80bbd88f55797d">create_release_dependency_service</a> ()</td></tr>
<tr class="separator:a87fd6a2f0ff970394b80bbd88f55797d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ea70d5f2cda614e9182e3060c87bf4"><td class="memItemLeft" align="right" valign="top">rclcpp::Service&lt; cmr_msgs::srv::NotifyDeactivate &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a13ea70d5f2cda614e9182e3060c87bf4">create_notify_deactivate_service</a> ()</td></tr>
<tr class="separator:a13ea70d5f2cda614e9182e3060c87bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a51bd14dbc4fbe7983f8366cc0c29a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a1a51bd14dbc4fbe7983f8366cc0c29a7">activate_dependency</a> (const std::string &amp;target)</td></tr>
<tr class="separator:a1a51bd14dbc4fbe7983f8366cc0c29a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8854b998b63bc3b5c42dd82620cc0a84"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a8854b998b63bc3b5c42dd82620cc0a84">deactivate_dependency</a> (const std::string &amp;target)</td></tr>
<tr class="separator:a8854b998b63bc3b5c42dd82620cc0a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a306e4b7a97b0a60fee15eecc3da04bdb"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::unordered_set&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a306e4b7a97b0a60fee15eecc3da04bdb">m_users</a></td></tr>
<tr class="memdesc:a306e4b7a97b0a60fee15eecc3da04bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">maps names of acquired nodes to the set of names of the nodes that it depends on  <a href="classcmr_1_1fabric_1_1DependencyManager.html#a306e4b7a97b0a60fee15eecc3da04bdb">More...</a><br /></td></tr>
<tr class="separator:a306e4b7a97b0a60fee15eecc3da04bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155df976341df6df83e0c3a4ed702334"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::unordered_set&lt; std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a155df976341df6df83e0c3a4ed702334">m_dependers</a></td></tr>
<tr class="memdesc:a155df976341df6df83e0c3a4ed702334"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the reverse of <code>m_users</code>.  <a href="classcmr_1_1fabric_1_1DependencyManager.html#a155df976341df6df83e0c3a4ed702334">More...</a><br /></td></tr>
<tr class="separator:a155df976341df6df83e0c3a4ed702334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ed225617ea05e695e4bd2f7920a145"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#af9ed225617ea05e695e4bd2f7920a145">m_started_as_deps</a></td></tr>
<tr class="memdesc:af9ed225617ea05e695e4bd2f7920a145"><td class="mdescLeft">&#160;</td><td class="mdescRight">set of nodes that the dependency manager started; nodes in this set will be disabled when they no longer have any users  <a href="classcmr_1_1fabric_1_1DependencyManager.html#af9ed225617ea05e695e4bd2f7920a145">More...</a><br /></td></tr>
<tr class="separator:af9ed225617ea05e695e4bd2f7920a145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fde3748b60e9fe2198e18b6ed2484e9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp::Service&lt; cmr_msgs::srv::AcquireDependency &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a2fde3748b60e9fe2198e18b6ed2484e9">m_acquire_dependency_srv</a></td></tr>
<tr class="memdesc:a2fde3748b60e9fe2198e18b6ed2484e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A service on <code>/&lt;effective_namespace&gt;/acquire</code> that allows other nodes to indicate that they can only start running after their dependencies are running.  <a href="classcmr_1_1fabric_1_1DependencyManager.html#a2fde3748b60e9fe2198e18b6ed2484e9">More...</a><br /></td></tr>
<tr class="separator:a2fde3748b60e9fe2198e18b6ed2484e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c4e1941be36d346f361f79c34c709c2"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp::Service&lt; cmr_msgs::srv::ReleaseDependency &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a0c4e1941be36d346f361f79c34c709c2">m_release_dependency_srv</a></td></tr>
<tr class="memdesc:a0c4e1941be36d346f361f79c34c709c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A service on <code>/&lt;effective_namespace&gt;/release</code> that allows other nodes to know that they are no longer needed by a particular dependency.  <a href="classcmr_1_1fabric_1_1DependencyManager.html#a0c4e1941be36d346f361f79c34c709c2">More...</a><br /></td></tr>
<tr class="separator:a0c4e1941be36d346f361f79c34c709c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d11c3cebb558240222c4d2c0be95a02"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; rclcpp::Service&lt; cmr_msgs::srv::NotifyDeactivate &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmr_1_1fabric_1_1DependencyManager.html#a6d11c3cebb558240222c4d2c0be95a02">m_notify_deactivate_srv</a></td></tr>
<tr class="memdesc:a6d11c3cebb558240222c4d2c0be95a02"><td class="mdescLeft">&#160;</td><td class="mdescRight">A service that listens on <code>/&lt;effective_namespace&gt;/notify_deactivate</code> that allows a node that is deactivating which is depndened upon by other nodes to deactive those other nodes.  <a href="classcmr_1_1fabric_1_1DependencyManager.html#a6d11c3cebb558240222c4d2c0be95a02">More...</a><br /></td></tr>
<tr class="separator:a6d11c3cebb558240222c4d2c0be95a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The dependency manager provides a service interface for nodes to acquire their dependencies. </p>
<p >When a node acquires its dependencies, we make sure that all nodes it depends on are already running. When it releases its dependencies, will allow the dependent nodes to deactivate if there are no other nodes that depend on them.</p>
<p >The acquire service is created on <code>/&lt;namespace&gt;/acquire</code> and takes messages of <code>cmr_msgs::srv::AcquireDependency</code>. The release service is created on <code>/&lt;namespace&gt;/release</code> and takes messages of <code>cmr_msgs::srv::ReleaseDependency</code>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a278766b3f611fbf2dd3c84e730b17740" name="a278766b3f611fbf2dd3c84e730b17740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a278766b3f611fbf2dd3c84e730b17740">&#9670;&nbsp;</a></span>DependencyManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cmr::fabric::DependencyManager::DependencyManager </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>node_name</em> = <code>&quot;dependency_manager&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>node_namespace</em> = <code>&quot;fabric&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1a51bd14dbc4fbe7983f8366cc0c29a7" name="a1a51bd14dbc4fbe7983f8366cc0c29a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a51bd14dbc4fbe7983f8366cc0c29a7">&#9670;&nbsp;</a></span>activate_dependency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::fabric::DependencyManager::activate_dependency </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0875946470e4456fa06af767fff013a4" name="a0875946470e4456fa06af767fff013a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0875946470e4456fa06af767fff013a4">&#9670;&nbsp;</a></span>create_acquire_dependency_service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Service&lt; cmr_msgs::srv::AcquireDependency &gt;::SharedPtr cmr::fabric::DependencyManager::create_acquire_dependency_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a13ea70d5f2cda614e9182e3060c87bf4" name="a13ea70d5f2cda614e9182e3060c87bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ea70d5f2cda614e9182e3060c87bf4">&#9670;&nbsp;</a></span>create_notify_deactivate_service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Service&lt; cmr_msgs::srv::NotifyDeactivate &gt;::SharedPtr cmr::fabric::DependencyManager::create_notify_deactivate_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a87fd6a2f0ff970394b80bbd88f55797d" name="a87fd6a2f0ff970394b80bbd88f55797d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87fd6a2f0ff970394b80bbd88f55797d">&#9670;&nbsp;</a></span>create_release_dependency_service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Service&lt; cmr_msgs::srv::ReleaseDependency &gt;::SharedPtr cmr::fabric::DependencyManager::create_release_dependency_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8854b998b63bc3b5c42dd82620cc0a84" name="a8854b998b63bc3b5c42dd82620cc0a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8854b998b63bc3b5c42dd82620cc0a84">&#9670;&nbsp;</a></span>deactivate_dependency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cmr::fabric::DependencyManager::deactivate_dependency </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac04661223844ede09ba718c322fa2f55" name="ac04661223844ede09ba718c322fa2f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04661223844ede09ba718c322fa2f55">&#9670;&nbsp;</a></span>notify_deactivate_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Response &gt; &amp; cmr::fabric::DependencyManager::notify_deactivate_callback </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; cmr_msgs::srv::NotifyDeactivate::Response &gt; &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac924ea0658593097f9b92bb82403dc00" name="ac924ea0658593097f9b92bb82403dc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac924ea0658593097f9b92bb82403dc00">&#9670;&nbsp;</a></span>release_dependency_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Response &gt; &amp; cmr::fabric::DependencyManager::release_dependency_callback </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; cmr_msgs::srv::ReleaseDependency::Response &gt; &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2fde3748b60e9fe2198e18b6ed2484e9" name="a2fde3748b60e9fe2198e18b6ed2484e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fde3748b60e9fe2198e18b6ed2484e9">&#9670;&nbsp;</a></span>m_acquire_dependency_srv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;rclcpp::Service&lt;cmr_msgs::srv::AcquireDependency&gt; &gt; cmr::fabric::DependencyManager::m_acquire_dependency_srv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A service on <code>/&lt;effective_namespace&gt;/acquire</code> that allows other nodes to indicate that they can only start running after their dependencies are running. </p>

</div>
</div>
<a id="a155df976341df6df83e0c3a4ed702334" name="a155df976341df6df83e0c3a4ed702334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155df976341df6df83e0c3a4ed702334">&#9670;&nbsp;</a></span>m_dependers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, std::unordered_set&lt;std::string&gt; &gt; cmr::fabric::DependencyManager::m_dependers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the reverse of <code>m_users</code>. </p>
<p >It maps names of nodes to the set of names of nodes that depend on it </p>

</div>
</div>
<a id="a6d11c3cebb558240222c4d2c0be95a02" name="a6d11c3cebb558240222c4d2c0be95a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d11c3cebb558240222c4d2c0be95a02">&#9670;&nbsp;</a></span>m_notify_deactivate_srv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;rclcpp::Service&lt;cmr_msgs::srv::NotifyDeactivate&gt; &gt; cmr::fabric::DependencyManager::m_notify_deactivate_srv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A service that listens on <code>/&lt;effective_namespace&gt;/notify_deactivate</code> that allows a node that is deactivating which is depndened upon by other nodes to deactive those other nodes. </p>

</div>
</div>
<a id="a0c4e1941be36d346f361f79c34c709c2" name="a0c4e1941be36d346f361f79c34c709c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4e1941be36d346f361f79c34c709c2">&#9670;&nbsp;</a></span>m_release_dependency_srv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;rclcpp::Service&lt;cmr_msgs::srv::ReleaseDependency&gt; &gt; cmr::fabric::DependencyManager::m_release_dependency_srv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A service on <code>/&lt;effective_namespace&gt;/release</code> that allows other nodes to know that they are no longer needed by a particular dependency. </p>

</div>
</div>
<a id="af9ed225617ea05e695e4bd2f7920a145" name="af9ed225617ea05e695e4bd2f7920a145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ed225617ea05e695e4bd2f7920a145">&#9670;&nbsp;</a></span>m_started_as_deps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;std::string&gt; cmr::fabric::DependencyManager::m_started_as_deps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set of nodes that the dependency manager started; nodes in this set will be disabled when they no longer have any users </p>

</div>
</div>
<a id="a306e4b7a97b0a60fee15eecc3da04bdb" name="a306e4b7a97b0a60fee15eecc3da04bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306e4b7a97b0a60fee15eecc3da04bdb">&#9670;&nbsp;</a></span>m_users</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, std::unordered_set&lt;std::string&gt; &gt; cmr::fabric::DependencyManager::m_users</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maps names of acquired nodes to the set of names of the nodes that it depends on </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/cmr_fabric/include/cmr_fabric/<a class="el" href="dependency__manager_8hpp_source.html">dependency_manager.hpp</a></li>
<li>src/cmr_fabric/src/<a class="el" href="dependency__manager_8cpp.html">dependency_manager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 19 2022 03:30:23 for Terra by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
